<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
  <title></title>
  <meta http-equiv="content-type" content="text/html; charset=latin1">
  <style type="text/css">
td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }
body  { background: #f8f8f8; }
body .c { color: #408080; font-style: italic } /* Comment */
body .err { border: 1px solid #FF0000 } /* Error */
body .k { color: #008000; font-weight: bold } /* Keyword */
body .o { color: #666666 } /* Operator */
body .cm { color: #408080; font-style: italic } /* Comment.Multiline */
body .cp { color: #BC7A00 } /* Comment.Preproc */
body .c1 { color: #408080; font-style: italic } /* Comment.Single */
body .cs { color: #408080; font-style: italic } /* Comment.Special */
body .gd { color: #A00000 } /* Generic.Deleted */
body .ge { font-style: italic } /* Generic.Emph */
body .gr { color: #FF0000 } /* Generic.Error */
body .gh { color: #000080; font-weight: bold } /* Generic.Heading */
body .gi { color: #00A000 } /* Generic.Inserted */
body .go { color: #808080 } /* Generic.Output */
body .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
body .gs { font-weight: bold } /* Generic.Strong */
body .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
body .gt { color: #0040D0 } /* Generic.Traceback */
body .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
body .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
body .kp { color: #008000 } /* Keyword.Pseudo */
body .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
body .kt { color: #B00040 } /* Keyword.Type */
body .m { color: #666666 } /* Literal.Number */
body .s { color: #BA2121 } /* Literal.String */
body .na { color: #7D9029 } /* Name.Attribute */
body .nb { color: #008000 } /* Name.Builtin */
body .nc { color: #0000FF; font-weight: bold } /* Name.Class */
body .no { color: #880000 } /* Name.Constant */
body .nd { color: #AA22FF } /* Name.Decorator */
body .ni { color: #999999; font-weight: bold } /* Name.Entity */
body .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
body .nf { color: #0000FF } /* Name.Function */
body .nl { color: #A0A000 } /* Name.Label */
body .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
body .nt { color: #008000; font-weight: bold } /* Name.Tag */
body .nv { color: #19177C } /* Name.Variable */
body .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
body .w { color: #bbbbbb } /* Text.Whitespace */
body .mf { color: #666666 } /* Literal.Number.Float */
body .mh { color: #666666 } /* Literal.Number.Hex */
body .mi { color: #666666 } /* Literal.Number.Integer */
body .mo { color: #666666 } /* Literal.Number.Oct */
body .sb { color: #BA2121 } /* Literal.String.Backtick */
body .sc { color: #BA2121 } /* Literal.String.Char */
body .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
body .s2 { color: #BA2121 } /* Literal.String.Double */
body .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
body .sh { color: #BA2121 } /* Literal.String.Heredoc */
body .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
body .sx { color: #008000 } /* Literal.String.Other */
body .sr { color: #BB6688 } /* Literal.String.Regex */
body .s1 { color: #BA2121 } /* Literal.String.Single */
body .ss { color: #19177C } /* Literal.String.Symbol */
body .bp { color: #008000 } /* Name.Builtin.Pseudo */
body .vc { color: #19177C } /* Name.Variable.Class */
body .vg { color: #19177C } /* Name.Variable.Global */
body .vi { color: #19177C } /* Name.Variable.Instance */
body .il { color: #666666 } /* Literal.Number.Integer.Long */

  </style>
</head>
<body>
<h2></h2>

<div class="highlight"><pre><span class="c">/*</span>
<span class="c"> * Copyright 2008 Marc Bischof </span>
<span class="c"> * based on simpel.g by Matthieu Riou </span>
<span class="c"> *</span>
<span class="c"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); </span>
<span class="c"> * you may not use this file except in compliance with the License. </span>
<span class="c"> * You may obtain a copy of the License at </span>
<span class="c"> *</span>
<span class="c"> *     http://www.apache.org/licenses/LICENSE-2.0 </span>
<span class="c"> *</span>
<span class="c"> * Unless required by applicable law or agreed to in writing, software </span>
<span class="c"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, </span>
<span class="c"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. </span>
<span class="c"> * See the License for the specific language governing permissions and </span>
<span class="c"> * limitations under the License.</span>
<span class="c"> */</span><span class="w"></span>
<span class="k">grammar</span><span class="w"> </span><span class="nc">BPELscript</span><span class="p">;</span><span class="w"></span>

<span class="k">options</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nv">output</span><span class="p">=</span>AST<span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="nv">ASTLabelType</span><span class="p">=</span>CommonTree<span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="k">tokens</span><span class="w"> </span><span class="p">{</span><span class="w"></span>
<span class="w">    </span><span class="nl">ROOT</span><span class="p">;</span><span class="w"> </span><span class="nl">PROCESS</span><span class="p">;</span><span class="w"> </span><span class="nl">PICK</span><span class="p">;</span><span class="w"> </span><span class="nl">SEQUENCE</span><span class="p">;</span><span class="w"> </span><span class="nl">FLOW</span><span class="p">;</span><span class="w"> </span><span class="nl">FLOWS</span><span class="p">;</span><span class="w"> </span><span class="nl">IF</span><span class="p">;</span><span class="w"> </span><span class="nl">ELSIF</span><span class="p">;</span><span class="w"> </span><span class="nl">ELSE</span><span class="p">;</span><span class="w"> </span><span class="nl">WHILE</span><span class="p">;</span><span class="w"> </span><span class="nl">UNTIL</span><span class="p">;</span><span class="w"> </span><span class="nl">FOR</span><span class="p">;</span><span class="w"> </span><span class="nl">INVOKE</span><span class="p">;</span><span class="nl">PROC_STMTS</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nl">RECEIVE</span><span class="p">;</span><span class="w"> </span><span class="nl">REPLY</span><span class="p">;</span><span class="w"> </span><span class="nl">ASSIGN</span><span class="p">;</span><span class="w"> </span><span class="nl">THROW</span><span class="p">;</span><span class="w"> </span><span class="nl">WAIT</span><span class="p">;</span><span class="w"> </span><span class="nl">EXIT</span><span class="p">;</span><span class="w"> </span><span class="nl">TIMEOUT</span><span class="p">;</span><span class="w"> </span><span class="nl">TRY</span><span class="p">;</span><span class="w"> </span><span class="nl">CATCH</span><span class="p">;</span><span class="w"> </span><span class="nl">CATCH_ALL</span><span class="p">;</span><span class="w"> </span><span class="nl">SCOPE</span><span class="p">;</span><span class="w"> </span><span class="nl">EVENT</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nl">ALARM</span><span class="p">;</span><span class="w"> </span><span class="nl">ONMESSAGE</span><span class="p">;</span><span class="w"> </span><span class="nl">COMPENSATION</span><span class="p">;</span><span class="w"> </span><span class="nl">COMPENSATE</span><span class="p">;</span><span class="w"> </span><span class="nl">CORRELATION</span><span class="p">;</span><span class="w"> </span><span class="nl">CORR_MAP</span><span class="p">;</span><span class="w"> </span><span class="nl">PARTNERLINK</span><span class="p">;</span><span class="w"> </span><span class="nl">VARIABLE</span><span class="p">;</span><span class="w"> </span><span class="nl">VALIDATE</span><span class="p">;</span><span class="w"> </span><span class="nl">BLOCK_PARAM</span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="nl">SIGNAL</span><span class="p">;</span><span class="w"> </span><span class="nl">JOIN</span><span class="p">;</span><span class="w"> </span><span class="nl">WITH</span><span class="p">;</span><span class="w"> </span><span class="nl">MAP</span><span class="p">;</span><span class="w"> </span><span class="nl">NOP</span><span class="p">;</span><span class="w"> </span><span class="nl">RETHROW</span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="nl">EXPR</span><span class="p">;</span><span class="w"> </span><span class="nl">EXT_EXPR</span><span class="p">;</span><span class="w"> </span><span class="nl">XML_LITERAL</span><span class="p">;</span><span class="w"> </span><span class="nl">CALL</span><span class="p">;</span><span class="w"> </span><span class="nl">NAMESPACE</span><span class="p">;</span><span class="w"> </span><span class="nl">NS</span><span class="p">;</span><span class="w"> </span><span class="nl">PATH</span><span class="p">;</span><span class="w"> </span><span class="nl">EXTENSION</span><span class="p">;</span><span class="w"> </span><span class="nl">EXTENSIONACT</span><span class="p">;</span><span class="w"> </span><span class="nl">IMPORT</span><span class="p">;</span><span class="w"> </span><span class="nl">MESSAGES</span><span class="p">;</span><span class="w"> </span><span class="nl">CORRSETS</span><span class="p">;</span><span class="w"> </span><span class="nl">CORRSET</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nl">XML</span><span class="p">;</span><span class="w"> </span><span class="nl">JS</span><span class="p">;</span><span class="w"></span>
<span class="w">    </span><span class="nl">PID</span><span class="p">;</span><span class="w"> </span><span class="nl">VARIABLES</span><span class="p">;</span><span class="w"> </span><span class="nl">PARTNERLINKS</span><span class="p">;</span><span class="w"> </span><span class="nl">PORTTYPE</span><span class="p">;</span><span class="w"> </span><span class="nl">STD_ATTR</span><span class="p">;</span><span class="nl">ONALARM</span><span class="p">;</span><span class="nl">REPEATEVERY</span><span class="p">;</span><span class="nl">EVENTHDL</span><span class="p">;</span><span class="nl">MESSAGE</span><span class="p">;</span><span class="w"> </span><span class="nl">TERMINATION</span><span class="p">;</span><span class="w"> </span>
<span class="w">    </span><span class="nl">MSGEX</span><span class="p">;</span><span class="w"> </span><span class="nl">FAULTNAME</span><span class="p">;</span><span class="w"> </span><span class="nl">MSGTYPE</span><span class="p">;</span><span class="w"> </span><span class="nl">VITYPE</span><span class="p">;</span><span class="w"> </span><span class="nl">VIELT</span><span class="p">;</span><span class="nl">FAULTELT</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
<span class="nl">@parser</span><span class="p">::</span><span class="nl">header</span><span class="w"> </span><span class="p">{</span>
<span class="c">/*</span>
<span class="c"> * Copyright 2008 Marc Bischof </span>
<span class="c"> * based on simpel.g by Matthieu Riou </span>
<span class="c"> *</span>
<span class="c"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); </span>
<span class="c"> * you may not use this file except in compliance with the License. </span>
<span class="c"> * You may obtain a copy of the License at </span>
<span class="c"> *</span>
<span class="c"> *     http://www.apache.org/licenses/LICENSE-2.0 </span>
<span class="c"> *</span>
<span class="c"> * Unless required by applicable law or agreed to in writing, software </span>
<span class="c"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, </span>
<span class="c"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. </span>
<span class="c"> * See the License for the specific language governing permissions and </span>
<span class="c"> * limitations under the License.</span>
<span class="c"> */</span>

<span class="nx">package</span> <span class="nx">iaas</span><span class="p">.</span><span class="nx">bpelscript</span><span class="p">.</span><span class="nx">antlr</span><span class="o">;</span>
<span class="p">}</span><span class="w"></span>

<span class="nl">@lexer</span><span class="p">::</span><span class="nl">header</span><span class="w"> </span><span class="p">{</span>
<span class="c">/*</span>
<span class="c"> * Copyright 2008 Marc Bischof </span>
<span class="c"> * based on simpel.g by Matthieu Riou </span>
<span class="c"> *</span>
<span class="c"> * Licensed under the Apache License, Version 2.0 (the &quot;License&quot;); </span>
<span class="c"> * you may not use this file except in compliance with the License. </span>
<span class="c"> * You may obtain a copy of the License at </span>
<span class="c"> *</span>
<span class="c"> *     http://www.apache.org/licenses/LICENSE-2.0 </span>
<span class="c"> *</span>
<span class="c"> * Unless required by applicable law or agreed to in writing, software </span>
<span class="c"> * distributed under the License is distributed on an &quot;AS IS&quot; BASIS, </span>
<span class="c"> * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. </span>
<span class="c"> * See the License for the specific language governing permissions and </span>
<span class="c"> * limitations under the License.</span>
<span class="c"> */</span>

<span class="nx">package</span> <span class="nx">iaas</span><span class="p">.</span><span class="nx">bpelscript</span><span class="p">.</span><span class="nx">antlr</span><span class="o">;</span>
<span class="p">}</span><span class="w"></span>

<span class="c">// MAIN BPEL SYNTAX</span><span class="w"></span>
<span class="nl">program</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">declaration</span><span class="o">+</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">ROOT</span><span class="w"> </span><span class="nv">declaration</span><span class="o">+)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">declaration</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">process</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">sub_declaration</span><span class="p">;</span><span class="w"></span>

<span class="nl">sub_declaration</span><span class="w"></span>
<span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="nv">namespace</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">extension</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">imports</span><span class="p">;</span><span class="w"></span>

<span class="c">// Process</span><span class="w"></span>
<span class="nl">process</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@queryLanguage&#39;</span><span class="w"> </span><span class="nv">queryLg</span><span class="o">=</span><span class="no">STRING</span><span class="o">)?</span><span class="w"></span>
<span class="w">		</span><span class="o">(</span><span class="s">&#39;@expressionLanguage&#39;</span><span class="w"> </span><span class="nv">exprLg</span><span class="o">=</span><span class="no">STRING</span><span class="o">)?</span><span class="w">	</span>
<span class="w">		</span><span class="nv">sjf</span><span class="o">=</span><span class="no">SJF</span><span class="o">?</span><span class="w"></span>
<span class="w">		</span><span class="nv">exitOnStandardFault</span><span class="o">=</span><span class="no">EOSF</span><span class="o">?</span><span class="w"></span>
<span class="w">		</span><span class="s">&#39;process&#39;</span><span class="w"> </span><span class="nv">ns_id</span><span class="w"> </span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">		</span><span class="nv">j</span><span class="o">+=</span><span class="nv">ajoin</span><span class="o">?</span><span class="w"> </span><span class="nv">s</span><span class="o">+=</span><span class="nv">asignal</span><span class="o">*</span><span class="w"> </span>
<span class="w">		</span><span class="nv">block</span><span class="w"> </span><span class="nv">eventHdl</span><span class="o">?</span><span class="w"></span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w">	</span><span class="o">^(</span><span class="no">PROCESS</span><span class="w"> </span><span class="nv">ns_id</span><span class="w"> </span><span class="nv">block</span><span class="w"> </span><span class="nv">eventHdl</span><span class="o">?</span><span class="w"> </span><span class="nv">$queryLg</span><span class="o">?</span><span class="w"> </span><span class="nv">$exprLg</span><span class="o">?</span><span class="w"> </span><span class="nv">$sjf</span><span class="o">?</span><span class="w"> </span><span class="nv">$exitOnStandardFault</span><span class="o">?</span><span class="w"> </span><span class="nv">std_attr</span><span class="w"> </span><span class="nv">ajoin</span><span class="o">?</span><span class="w"> </span><span class="nv">asignal</span><span class="o">*)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">proc_stmts</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="nv">join</span><span class="w"> </span><span class="no">SEMI</span><span class="o">)?</span><span class="w"> </span><span class="nv">proc_stmt</span><span class="w"> </span><span class="o">(</span><span class="nv">s</span><span class="o">+=</span><span class="nv">signal</span><span class="w"> </span><span class="no">SEMI</span><span class="o">)*</span><span class="w"> </span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">PROC_STMTS</span><span class="w"> </span><span class="nv">join</span><span class="o">?</span><span class="w"> </span><span class="nv">signal</span><span class="o">*</span><span class="w"> </span><span class="nv">proc_stmt</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">proc_stmt</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="c">//structured stmts</span><span class="w"></span>
<span class="w">		</span><span class="nv">if_ex</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">flow</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">pick</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">while_ex</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">until_ex</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">foreach</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">scope_ex</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">ext_act</span><span class="w"> </span>
<span class="w">		</span><span class="o">|</span><span class="w"> </span><span class="nv">try_ex</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">corr_sets</span><span class="w"></span>
<span class="w">		</span><span class="c">//simple stmts</span><span class="w"></span>
<span class="w">		</span><span class="o">|</span><span class="w"> </span><span class="o">((</span><span class="nv">invoke</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">receive</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">reply</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">assign</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">throw_ex</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">rethrow_ex</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">alarm</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">timeout</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">exit</span><span class="w"></span>
<span class="w">		</span><span class="o">|</span><span class="w"> </span><span class="nv">variables</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">validate</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">partner_links</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">compensate</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">nop</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">messages</span><span class="o">)</span><span class="w"> </span><span class="no">SEMI</span><span class="o">!)</span><span class="p">;</span><span class="w"></span>

<span class="nl">block</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;{&#39;</span><span class="w"> </span><span class="nv">proc_stmts</span><span class="o">+</span><span class="w"> </span><span class="s">&#39;}&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">SEQUENCE</span><span class="w"> </span><span class="nv">proc_stmts</span><span class="o">+)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">scope_block</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;{&#39;</span><span class="w"> </span><span class="nv">sub_declaration</span><span class="o">*</span><span class="w"> </span><span class="nv">proc_stmts</span><span class="o">+</span><span class="w"> </span><span class="s">&#39;}&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">SEQUENCE</span><span class="w"> </span><span class="nv">sub_declaration</span><span class="o">*</span><span class="w"> </span><span class="nv">proc_stmts</span><span class="o">+)</span><span class="p">;</span><span class="w"></span>

<span class="nl">param_block</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;{&#39;</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;|&#39;</span><span class="w"> </span><span class="nv">in</span><span class="o">+=</span><span class="no">ID</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">in</span><span class="o">+=</span><span class="no">ID</span><span class="o">)*</span><span class="w"> </span><span class="s">&#39;|&#39;</span><span class="o">)?</span><span class="w"> </span><span class="nv">proc_stmts</span><span class="o">+</span><span class="w"> </span><span class="s">&#39;}&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">SEQUENCE</span><span class="w"> </span><span class="nv">$in</span><span class="o">*</span><span class="w"> </span><span class="nv">proc_stmts</span><span class="o">+)</span><span class="p">;</span><span class="w"></span>

<span class="nl">body</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="nv">block</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">proc_stmts</span><span class="p">;</span><span class="w"></span>

<span class="c">// Structured activities</span><span class="w"></span>
<span class="nl">pick</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="no">CREATE_INST</span><span class="o">?</span><span class="w"> </span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">		</span><span class="s">&#39;pick&#39;</span><span class="w"> </span><span class="s">&#39;{&#39;</span><span class="w"> </span><span class="nv">onMessage</span><span class="o">+</span><span class="w"> </span><span class="nv">onAlarm</span><span class="o">*</span><span class="w"> </span><span class="s">&#39;}&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">PICK</span><span class="w"> </span><span class="nv">onMessage</span><span class="o">+</span><span class="w"> </span><span class="nv">onAlarm</span><span class="o">*</span><span class="w"> </span><span class="no">CREATE_INST</span><span class="o">?</span><span class="w"> </span><span class="nv">std_attr</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">onMessage</span><span class="w"> </span>
<span class="w">        	</span><span class="p">:</span><span class="w">	</span><span class="nv">portType</span><span class="o">?</span><span class="w"> </span><span class="nv">msgEx</span><span class="o">?</span><span class="w"></span>
<span class="w">		</span><span class="s">&#39;onMessage&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">p</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">o</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">correlation</span><span class="o">)?</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="nv">with_ex</span><span class="o">?</span><span class="w"></span>
<span class="w">        		</span><span class="nv">param_block</span><span class="w"> </span>
<span class="w">        		</span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">ONMESSAGE</span><span class="w"> </span><span class="nv">param_block</span><span class="w"> </span><span class="nv">portType</span><span class="o">?</span><span class="w"> </span><span class="nv">msgEx</span><span class="o">?</span><span class="w"> </span><span class="no">ID</span><span class="w"> </span><span class="no">ID</span><span class="w"> </span><span class="nv">correlation</span><span class="o">?</span><span class="w"> </span><span class="nv">with_ex</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span>
<span class="nl">onAlarm</span><span class="w"> </span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="c">// use syntactic predicate to garantie that at least one expression must be there </span><span class="w"></span>
<span class="w">		</span><span class="c">// (also garanties that standard attributes are not used in this context)</span><span class="w"></span>
<span class="w">		</span><span class="p">{</span><span class="nx">input</span><span class="p">.</span><span class="nx">LT</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">getText</span><span class="p">().</span><span class="nx">equals</span><span class="p">(</span><span class="s2">&quot;alarm&quot;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">input</span><span class="p">.</span><span class="nx">LT</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">getText</span><span class="p">().</span><span class="nx">equals</span><span class="p">(</span><span class="s2">&quot;timeout&quot;</span><span class="p">)</span> <span class="o">||</span> <span class="nx">input</span><span class="p">.</span><span class="nx">LT</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">getText</span><span class="p">().</span><span class="nx">equals</span><span class="p">(</span><span class="s2">&quot;repeatEvery&quot;</span><span class="p">)}</span><span class="o">?</span><span class="w"> </span>
<span class="w">		</span><span class="o">(</span><span class="nv">alarm</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">timeout</span><span class="o">)?</span><span class="w"> </span><span class="nv">repeatEvery</span><span class="o">?</span><span class="w"> </span><span class="p">{</span><span class="nx">input</span><span class="p">.</span><span class="nx">LT</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">getText</span><span class="p">().</span><span class="nx">equals</span><span class="p">(</span><span class="s2">&quot;{&quot;</span><span class="p">)}</span><span class="o">?</span><span class="w"> </span><span class="nv">scope_short</span><span class="w"></span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w">	</span><span class="o">^(</span><span class="no">ONALARM</span><span class="w"> </span><span class="nv">alarm</span><span class="o">?</span><span class="w"> </span><span class="nv">timeout</span><span class="o">?</span><span class="w"> </span><span class="nv">repeatEvery</span><span class="o">?</span><span class="w"> </span><span class="nv">scope_short</span><span class="o">)</span><span class="p">;</span><span class="w"></span>
<span class="w">        </span>
<span class="nl">alarm</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">			</span><span class="s">&#39;alarm&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">expr</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span>
<span class="w">		</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">ALARM</span><span class="w">  </span><span class="nv">expr</span><span class="w"> </span><span class="nv">std_attr</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">timeout</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">			</span><span class="s">&#39;timeout&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="nv">expr</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span>
<span class="w">		</span><span class="o">-&gt;</span><span class="w">	</span><span class="o">^(</span><span class="no">TIMEOUT</span><span class="w"> </span><span class="nv">expr</span><span class="w"> </span><span class="nv">std_attr</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">repeatEvery</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;repeatEvery&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">expr</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"></span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w">	</span><span class="o">^(</span><span class="no">REPEATEVERY</span><span class="w"> </span><span class="nv">expr</span><span class="o">)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">flow</span><span class="w"> 	</span><span class="p">:</span><span class="w">	</span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">		</span><span class="s">&#39;parallel&#39;</span><span class="w"> </span><span class="nv">s</span><span class="o">+=</span><span class="nv">sequence</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="s">&#39;and&#39;</span><span class="w"> </span><span class="nv">s</span><span class="o">+=</span><span class="nv">sequence</span><span class="o">)*</span><span class="w"></span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">FLOW</span><span class="w">  </span><span class="nv">$s</span><span class="o">+</span><span class="w"> </span><span class="nv">std_attr</span><span class="o">)</span><span class="w"> </span><span class="p">;</span><span class="w"></span>

<span class="nl">signal</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;signal&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="no">ID</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">expr</span><span class="o">)?</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">SIGNAL</span><span class="w"> </span><span class="no">ID</span><span class="w"> </span><span class="nv">expr</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>

<span class="nl">asignal</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;@signal&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="no">ID</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">expr</span><span class="o">)?</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">SIGNAL</span><span class="w"> </span><span class="no">ID</span><span class="w"> </span><span class="nv">expr</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>

<span class="nl">ajoin</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;@join&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">k</span><span class="o">+=</span><span class="no">ID</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">k</span><span class="o">+=</span><span class="no">ID</span><span class="o">)*</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">expr</span><span class="o">)?</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">JOIN</span><span class="w"> </span><span class="nv">$k</span><span class="o">+</span><span class="w"> </span><span class="nv">expr</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>

<span class="nl">join</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;join&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">k</span><span class="o">+=</span><span class="no">ID</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">k</span><span class="o">+=</span><span class="no">ID</span><span class="o">)*</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">expr</span><span class="o">)?</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">JOIN</span><span class="w"> </span><span class="nv">$k</span><span class="o">+</span><span class="w"> </span><span class="nv">expr</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>

<span class="nl">if_ex</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">		</span><span class="s">&#39;if&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">iex</span><span class="o">=</span><span class="nv">expr</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="nv">s</span><span class="o">=</span><span class="nv">sequence</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;elseif&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">eiex</span><span class="o">+=</span><span class="nv">expr</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="nv">sei</span><span class="o">+=</span><span class="nv">sequence</span><span class="o">)*</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;else&#39;</span><span class="w"> </span><span class="nv">se</span><span class="o">=</span><span class="nv">sequence</span><span class="o">)?</span><span class="w"> </span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">IF</span><span class="w"> </span><span class="nv">$iex</span><span class="w"> </span><span class="nv">$s</span><span class="w"> </span><span class="o">(^(</span><span class="no">ELSIF</span><span class="w"> </span><span class="nv">$eiex</span><span class="w"> </span><span class="nv">$sei</span><span class="o">))*</span><span class="w"> </span><span class="o">(^(</span><span class="no">ELSE</span><span class="w"> </span><span class="nv">$se</span><span class="o">))?</span><span class="w"> </span><span class="nv">std_attr</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">sequence</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">		</span><span class="nv">j</span><span class="o">+=</span><span class="nv">ajoin</span><span class="o">?</span><span class="w"> </span><span class="nv">s</span><span class="o">+=</span><span class="nv">asignal</span><span class="o">*</span><span class="w"> </span>
<span class="w">		</span><span class="nv">b</span><span class="o">=</span><span class="nv">body</span><span class="w"></span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w">	</span><span class="o">^(</span><span class="no">SEQUENCE</span><span class="w"> </span><span class="nv">$j</span><span class="o">?</span><span class="w"> </span><span class="nv">$b</span><span class="w"> </span><span class="nv">$s</span><span class="o">*</span><span class="w"> </span><span class="nv">std_attr</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">scope_sequence</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">j</span><span class="o">+=</span><span class="nv">ajoin</span><span class="o">?</span><span class="w"> </span><span class="nv">s</span><span class="o">+=</span><span class="nv">asignal</span><span class="o">*</span><span class="w"> </span>
<span class="w">		</span><span class="nv">b</span><span class="o">=</span><span class="nv">scope_block</span><span class="w"></span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w">	</span><span class="o">^(</span><span class="no">SEQUENCE</span><span class="w"> </span><span class="nv">$j</span><span class="o">?</span><span class="w"> </span><span class="nv">$b</span><span class="w"> </span><span class="nv">$s</span><span class="o">*)</span><span class="p">;</span><span class="w"></span>

<span class="nl">while_ex</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">			</span><span class="s">&#39;while&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">expr</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="nv">s</span><span class="o">=</span><span class="nv">sequence</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">WHILE</span><span class="w"> </span><span class="nv">expr</span><span class="w"> </span><span class="nv">sequence</span><span class="w"> </span><span class="nv">std_attr</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">until_ex</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">			</span><span class="s">&#39;repeat&#39;</span><span class="w"> </span><span class="nv">s</span><span class="o">=</span><span class="nv">sequence</span><span class="w"> </span><span class="s">&#39;until&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">expr</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">UNTIL</span><span class="w"> </span><span class="nv">expr</span><span class="w"> </span><span class="nv">sequence</span><span class="w"> </span><span class="nv">std_attr</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">foreach</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="no">PARALLEL</span><span class="o">?</span><span class="w"></span>
<span class="w">		</span><span class="nv">successfulBranchesOnly</span><span class="o">=</span><span class="no">SBO</span><span class="o">?</span><span class="w"> </span>
<span class="w">		</span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">		</span><span class="s">&#39;for&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">cName</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;=&#39;</span><span class="w"> </span><span class="nv">init</span><span class="o">=</span><span class="nv">expr</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;to&#39;</span><span class="o">|</span><span class="no">SEMI</span><span class="o">)</span><span class="w"> </span><span class="nv">cond</span><span class="o">=</span><span class="nv">expr</span><span class="w"> </span><span class="o">((</span><span class="s">&#39;finish&#39;</span><span class="o">|</span><span class="no">SEMI</span><span class="o">)</span><span class="w"> </span><span class="nv">complete</span><span class="o">+=</span><span class="nv">expr</span><span class="o">)?</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="nv">scope_short</span><span class="w"></span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">FOR</span><span class="w"> </span><span class="nv">$cName</span><span class="w"> </span><span class="nv">$init</span><span class="w"> </span><span class="nv">$cond</span><span class="w"> </span><span class="nv">$complete</span><span class="o">?</span><span class="w"> </span><span class="nv">scope_short</span><span class="w"> </span><span class="no">PARALLEL</span><span class="o">?</span><span class="w"> </span><span class="no">SBO</span><span class="o">?</span><span class="w"> </span><span class="nv">std_attr</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">try_ex</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;try&#39;</span><span class="w"> </span><span class="nv">body</span><span class="w"> </span><span class="nv">catch_ex</span><span class="o">*</span><span class="w"> </span><span class="nv">catchAll</span><span class="o">?-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">TRY</span><span class="w"> </span><span class="nv">catch_ex</span><span class="o">*</span><span class="w"> </span><span class="nv">body</span><span class="o">?)</span><span class="p">;</span><span class="w">		</span>

<span class="nl">catch_ex</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">((</span><span class="s">&#39;@faultMessageType&#39;</span><span class="w"> </span><span class="nv">fMT</span><span class="o">=</span><span class="no">STRING</span><span class="o">)</span><span class="w"> </span><span class="o">|</span><span class="w">  </span><span class="nv">faultElt</span><span class="o">)?</span><span class="w"></span>
<span class="w">		</span><span class="s">&#39;catch&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">ns_id</span><span class="w"> </span><span class="nv">faultVar</span><span class="o">=</span><span class="no">ID</span><span class="o">?</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="nv">block</span><span class="w"> </span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">CATCH</span><span class="w"> </span><span class="nv">ns_id</span><span class="w"> </span><span class="nv">block</span><span class="w"> </span><span class="nv">$faultVar</span><span class="o">?</span><span class="w"> </span><span class="nv">$fMT</span><span class="o">?</span><span class="w"> </span><span class="nv">faultElt</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">catchAll</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;catchAll&#39;</span><span class="w"> </span><span class="nv">block</span><span class="w"></span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">CATCH</span><span class="w"> </span><span class="nv">block</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">scope_ex</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="no">ISOLATED</span><span class="o">?</span><span class="w"> </span><span class="no">EOSF</span><span class="o">?</span><span class="w"> </span><span class="no">SJF</span><span class="o">?</span><span class="w"></span>
<span class="w">		</span><span class="s">&#39;scope&#39;</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="no">ID</span><span class="o">?</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="o">)?</span><span class="w"> </span><span class="nv">scope_sequence</span><span class="w"> </span><span class="nv">scope_stmt</span><span class="w"> </span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">SCOPE</span><span class="w"> </span><span class="no">ID</span><span class="o">?</span><span class="w"> </span><span class="nv">scope_stmt</span><span class="w"> </span><span class="nv">scope_sequence</span><span class="w"> </span><span class="no">ISOLATED</span><span class="o">?</span><span class="w"> </span><span class="no">EOSF</span><span class="o">?</span><span class="w"> </span><span class="no">SJF</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">scope_short</span><span class="w"> </span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">scope_sequence</span><span class="w"> </span><span class="nv">scope_stmt</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">SCOPE</span><span class="w"> </span><span class="nv">scope_stmt</span><span class="w"> </span><span class="nv">scope_sequence</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">scope_stmt</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">compensation</span><span class="o">?</span><span class="w"> </span><span class="nv">termination</span><span class="o">?</span><span class="w"> </span><span class="nv">eventHdl</span><span class="o">?</span><span class="w"></span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w">	</span><span class="o">^(</span><span class="no">SCOPE</span><span class="w"> </span><span class="nv">compensation</span><span class="o">?</span><span class="w"> </span><span class="nv">termination</span><span class="o">?</span><span class="w"> </span><span class="nv">eventHdl</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>

<span class="nl">termination</span><span class="w"> </span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;onTermination&#39;</span><span class="w"> </span><span class="nv">body</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">TERMINATION</span><span class="w"> </span><span class="nv">body</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">eventHdl</span><span class="w">	</span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;events&#39;</span><span class="w"> </span><span class="s">&#39;{&#39;</span><span class="w"> </span><span class="nv">onEvent</span><span class="o">*</span><span class="w"> </span><span class="nv">onAlarm</span><span class="o">*</span><span class="w"> </span><span class="s">&#39;}&#39;</span><span class="w"></span>
<span class="w">		</span><span class="o">-&gt;</span><span class="w">	</span><span class="o">^(</span><span class="no">EVENTHDL</span><span class="w"> </span><span class="nv">onEvent</span><span class="o">*</span><span class="w"> </span><span class="nv">onAlarm</span><span class="o">*)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">onEvent</span><span class="w">	</span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">portType</span><span class="o">?</span><span class="w"> </span><span class="nv">msgEx</span><span class="o">?</span><span class="w"></span>
<span class="w">		</span><span class="o">(</span><span class="w"> </span><span class="nv">msgType</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">viElt</span><span class="w"> </span><span class="o">)?</span><span class="w">					</span>
<span class="w">		</span><span class="o">(</span><span class="nv">var</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;=&#39;</span><span class="w"> </span><span class="o">)?</span><span class="w"> </span><span class="s">&#39;event&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">p</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">o</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">correlation</span><span class="o">)?</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="nv">with_ex</span><span class="o">?</span><span class="w"> </span><span class="nv">scope_short</span><span class="w"> </span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">EVENT</span><span class="w"> </span><span class="nv">$p</span><span class="w"> </span><span class="nv">$o</span><span class="w"> </span><span class="nv">correlation</span><span class="o">?</span><span class="w"> </span><span class="nv">with_ex</span><span class="o">?</span><span class="w"> </span><span class="nv">scope_short</span><span class="w"> </span><span class="nv">$var</span><span class="o">?</span><span class="w"> </span><span class="nv">portType</span><span class="o">?</span><span class="w"> </span><span class="nv">msgEx</span><span class="o">?</span><span class="w"> </span><span class="nv">msgType</span><span class="o">?</span><span class="w"> </span><span class="nv">viElt</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>
<span class="w">		</span>
<span class="nl">compensation</span><span class="w"> </span><span class="c">//compensation handler</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;compensation&#39;</span><span class="w"> </span><span class="nv">body</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">COMPENSATION</span><span class="w"> </span><span class="nv">body</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">with_ex</span><span class="w"></span>
<span class="w">	 </span><span class="p">:</span><span class="w">	 </span><span class="s">&#39;with&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">wm</span><span class="o">+=</span><span class="nv">with_map</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">wm</span><span class="o">+=</span><span class="nv">with_map</span><span class="o">)*</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">WITH</span><span class="w"> </span><span class="nv">$wm</span><span class="o">+)</span><span class="p">;</span><span class="w"></span>

<span class="nl">with_map</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">       	</span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;:&#39;</span><span class="w"> </span><span class="no">KEY</span><span class="o">?</span><span class="w"> </span><span class="nv">path_expr</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">MAP</span><span class="w"> </span><span class="no">ID</span><span class="w"> </span><span class="no">KEY</span><span class="o">?</span><span class="w"> </span><span class="nv">path_expr</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="c">// Simple activities</span><span class="w"></span>
<span class="nl">receive</span><span class="w"></span>
<span class="w">        </span><span class="p">:</span><span class="w">		</span><span class="nv">portType</span><span class="o">?</span><span class="w"> </span><span class="no">CREATE_INST</span><span class="o">?</span><span class="w"> </span><span class="nv">msgEx</span><span class="o">?</span><span class="w"> </span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">		</span><span class="s">&#39;receive&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">p</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">o</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">correlation</span><span class="o">)?</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="nv">with_ex</span><span class="o">?</span><span class="w"></span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">RECEIVE</span><span class="w"> </span><span class="nv">$p</span><span class="w"> </span><span class="nv">$o</span><span class="w"> </span><span class="nv">correlation</span><span class="o">?</span><span class="w"> </span><span class="nv">portType</span><span class="o">?</span><span class="w"> </span><span class="no">CREATE_INST</span><span class="o">?</span><span class="w"> </span><span class="nv">msgEx</span><span class="o">?</span><span class="w"> </span><span class="nv">std_attr</span><span class="w"> </span><span class="nv">with_ex</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>

<span class="nl">reply</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">portType</span><span class="o">?</span><span class="w"> </span><span class="nv">faultName</span><span class="o">?</span><span class="w"> </span><span class="nv">msgEx</span><span class="o">?</span><span class="w"> </span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">		</span><span class="s">&#39;reply&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">p</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">o</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">in</span><span class="o">=</span><span class="no">ID</span><span class="o">)?</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">correlation</span><span class="o">)?</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w">  </span><span class="nv">with_ex</span><span class="o">?</span><span class="w"></span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">REPLY</span><span class="w"> </span><span class="no">ID</span><span class="w"> </span><span class="no">ID</span><span class="w"> </span><span class="no">ID</span><span class="o">?</span><span class="w"> </span><span class="nv">correlation</span><span class="o">?</span><span class="w"> </span><span class="nv">portType</span><span class="o">?</span><span class="w"> </span><span class="nv">std_attr</span><span class="w"> </span><span class="nv">faultName</span><span class="o">?</span><span class="w"> </span><span class="nv">msgEx</span><span class="o">?</span><span class="w"> </span><span class="nv">with_ex</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>

<span class="nl">invoke</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">portType</span><span class="o">?</span><span class="w"> </span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">		</span><span class="s">&#39;invoke&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">p</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">o</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">in</span><span class="o">=</span><span class="no">ID</span><span class="o">)?</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">correlation</span><span class="o">)?</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="nv">with_ex</span><span class="o">?</span><span class="w"> </span><span class="nv">compensation</span><span class="o">?</span><span class="w"></span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">INVOKE</span><span class="w"> </span><span class="nv">$p</span><span class="w"> </span><span class="nv">$o</span><span class="w"> </span><span class="nv">$in</span><span class="o">?</span><span class="w"> </span><span class="nv">correlation</span><span class="o">?</span><span class="w"> </span><span class="nv">portType</span><span class="o">?</span><span class="w"> </span><span class="nv">std_attr</span><span class="w"> </span><span class="nv">with_ex</span><span class="o">?</span><span class="w"> </span><span class="nv">compensation</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>

<span class="nl">assign</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">portType</span><span class="o">?</span><span class="w"> </span><span class="no">CREATE_INST</span><span class="o">?</span><span class="w"> </span><span class="no">VALID</span><span class="o">?</span><span class="w"> </span><span class="no">KEEPSRC</span><span class="o">?</span><span class="w"> </span><span class="no">IGNORE</span><span class="o">?</span><span class="w"> </span><span class="nv">faultName</span><span class="o">?</span><span class="w"> </span><span class="nv">msgEx</span><span class="o">?</span><span class="w"> </span><span class="nv">std_attr</span><span class="w"> </span><span class="c">//only receive and invoke</span><span class="w"></span>
<span class="w">		</span><span class="nv">path_expr</span><span class="w"> </span><span class="no">PART</span><span class="o">?</span><span class="w"> </span><span class="s">&#39;=&#39;</span><span class="w"> </span><span class="nv">rvalue</span><span class="w"> </span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">ASSIGN</span><span class="w"> </span><span class="nv">path_expr</span><span class="w"> </span><span class="no">PART</span><span class="o">?</span><span class="w"> </span><span class="nv">portType</span><span class="o">?</span><span class="w"> </span><span class="no">CREATE_INST</span><span class="o">?</span><span class="w"> </span><span class="nv">std_attr</span><span class="w"> </span><span class="nv">faultName</span><span class="o">?</span><span class="w"> </span><span class="nv">msgEx</span><span class="o">?</span><span class="w"> </span><span class="no">VALID</span><span class="o">?</span><span class="w"> </span><span class="no">KEEPSRC</span><span class="o">?</span><span class="w"> </span><span class="no">IGNORE</span><span class="o">?</span><span class="w"> </span><span class="nv">rvalue</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">rvalue</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">receive</span><span class="w"></span>
<span class="w">	</span><span class="o">|</span><span class="w">	</span><span class="nv">invoke</span><span class="w"></span>
<span class="w">	</span><span class="o">|</span><span class="w">	</span><span class="nv">expr</span><span class="w"> </span><span class="no">PART</span><span class="o">?</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">throw_ex</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">((</span><span class="s">&#39;@faultVariable&#39;</span><span class="w"> </span><span class="o">|</span><span class="s">&#39;@faultVar&#39;</span><span class="o">)</span><span class="w"> </span><span class="nv">faultVar</span><span class="o">=</span><span class="no">ID</span><span class="o">)?</span><span class="w"> </span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">		</span><span class="s">&#39;throw&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">ns_id</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">THROW</span><span class="w"> </span><span class="nv">ns_id</span><span class="w"> </span><span class="nv">$faultVar</span><span class="o">?</span><span class="w"> </span><span class="nv">std_attr</span><span class="o">)</span><span class="p">;</span><span class="w"></span>
<span class="w">		</span>
<span class="nl">rethrow_ex</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">		</span><span class="s">&#39;rethrow&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">RETHROW</span><span class="w"> </span><span class="nv">std_attr</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">compensate</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">		</span><span class="s">&#39;compensate&#39;</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">target</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="o">)?</span><span class="w"> </span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">COMPENSATE</span><span class="w"> </span><span class="no">ID</span><span class="o">?</span><span class="w"> </span><span class="nv">std_attr</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">exit</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">			</span><span class="s">&#39;exit&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">EXIT</span><span class="w"> </span><span class="nv">std_attr</span><span class="o">)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">validate</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">std_attr</span><span class="w"> </span>
<span class="w">			</span><span class="s">&#39;validate&#39;</span><span class="w"> </span><span class="nv">v</span><span class="o">+=</span><span class="no">ID</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">v</span><span class="o">+=</span><span class="no">ID</span><span class="o">)*-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">VALIDATE</span><span class="w"> </span><span class="nv">$v</span><span class="o">+</span><span class="w"> </span><span class="nv">std_attr</span><span class="o">)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">ext_act</span><span class="w">  	</span><span class="p">:</span><span class="w">	</span><span class="nv">std_attr</span><span class="w"> </span>
<span class="w">			</span><span class="nv">e</span><span class="o">=</span><span class="no">EXT_ACT</span><span class="w"> </span><span class="o">-&gt;</span><span class="w">  </span><span class="o">^(</span><span class="no">EXTENSIONACT</span><span class="w"> </span><span class="nv">$e</span><span class="w"> </span><span class="nv">std_attr</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">nop</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="nv">std_attr</span><span class="w"></span>
<span class="w">			</span><span class="s">&#39;nop&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">NOP</span><span class="w"> </span><span class="nv">std_attr</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="c">// Others</span><span class="w"></span>
<span class="nl">namespace</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;namespace&#39;</span><span class="w"> </span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;=&#39;</span><span class="w"> </span><span class="no">STRING</span><span class="w"> </span><span class="no">SEMI</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">NAMESPACE</span><span class="w"> </span><span class="no">ID</span><span class="w"> </span><span class="no">STRING</span><span class="o">)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">extension</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w"> 	</span><span class="no">MUSTUND</span><span class="o">?</span><span class="w"> </span>
<span class="w">		</span><span class="s">&#39;extension&#39;</span><span class="w"> </span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;=&#39;</span><span class="w"> </span><span class="no">STRING</span><span class="w"> </span><span class="no">SEMI</span><span class="w"></span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">EXTENSION</span><span class="w"> </span><span class="no">ID</span><span class="w"> </span><span class="no">STRING</span><span class="w"> </span><span class="no">MUSTUND</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>

<span class="nl">imports</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w"> 	</span><span class="nv">viType</span><span class="w">  </span>
<span class="w">		</span><span class="s">&#39;import&#39;</span><span class="w"> </span><span class="o">(</span><span class="nv">id</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;=&#39;</span><span class="w"> </span><span class="o">(</span><span class="nv">ns</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;::&#39;</span><span class="w"> </span><span class="o">)?</span><span class="w"> </span><span class="nv">loc</span><span class="o">=</span><span class="no">STRING</span><span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="no">SEMI</span><span class="w"> </span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">IMPORT</span><span class="w"> </span><span class="nv">$id</span><span class="w"> </span><span class="nv">$loc</span><span class="w"> </span><span class="nv">$ns</span><span class="o">?</span><span class="w"> </span><span class="nv">viType</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>

<span class="nl">messages</span><span class="w"> </span><span class="c">//Exchange</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;messages&#39;</span><span class="w"> </span><span class="nv">m</span><span class="o">+=</span><span class="nv">message</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">m</span><span class="o">+=</span><span class="nv">message</span><span class="o">)*</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">MESSAGES</span><span class="w"> </span><span class="nv">message</span><span class="o">+)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">message</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="no">ID</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">MESSAGE</span><span class="w"> </span><span class="no">ID</span><span class="o">)</span><span class="p">;</span><span class="w"></span>
<span class="w">		</span>
<span class="nl">variables</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;var&#39;</span><span class="w"> </span><span class="nv">v</span><span class="o">+=</span><span class="nv">variable</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">v</span><span class="o">+=</span><span class="nv">variable</span><span class="o">)*</span><span class="w"> </span>
<span class="w">		</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">VARIABLES</span><span class="w"> </span><span class="nv">variable</span><span class="o">+)</span><span class="p">;</span><span class="w"></span>

<span class="nl">variable</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">msgType</span><span class="o">?</span><span class="w"> </span><span class="nv">viType</span><span class="o">?</span><span class="w"> </span><span class="nv">viElt</span><span class="o">?</span><span class="w"></span>
<span class="w">		</span><span class="no">ID</span><span class="w">  </span><span class="nv">with_ex</span><span class="o">?</span><span class="w"></span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">VARIABLE</span><span class="w"> </span><span class="no">ID</span><span class="w"> </span><span class="nv">msgType</span><span class="o">?</span><span class="w"> </span><span class="nv">viType</span><span class="o">?</span><span class="w"> </span><span class="nv">viElt</span><span class="o">?</span><span class="w"> </span><span class="nv">with_ex</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>

<span class="nl">partner_links</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;partnerLink&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;partnerlink&#39;</span><span class="o">)</span><span class="w"> </span><span class="nv">pl</span><span class="o">+=</span><span class="nv">partner_link</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">pl</span><span class="o">+=</span><span class="nv">partner_link</span><span class="o">)*</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">PARTNERLINKS</span><span class="w"> </span><span class="nv">$pl</span><span class="o">+)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">partner_link</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;=&#39;</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">plType</span><span class="o">=</span><span class="nv">ns_id</span><span class="o">?</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">roleA</span><span class="o">=</span><span class="nv">ns_id</span><span class="o">)?</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">roleB</span><span class="o">=</span><span class="nv">ns_id</span><span class="o">)?</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">init</span><span class="o">=</span><span class="no">INITPARTNER</span><span class="o">)?</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"></span>
<span class="w">		</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">PID</span><span class="w"> </span><span class="no">ID</span><span class="w"> </span><span class="nv">$plType</span><span class="o">?</span><span class="w"> </span><span class="nv">$roleA</span><span class="o">?</span><span class="w"> </span><span class="nv">$roleB</span><span class="o">?</span><span class="w"> </span><span class="nv">$init</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>

<span class="nl">correlation</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;{&#39;</span><span class="w"> </span><span class="nv">corr_mapping</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">corr_mapping</span><span class="o">)*</span><span class="w"> </span><span class="s">&#39;}&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">CORRELATION</span><span class="w"> </span><span class="nv">corr_mapping</span><span class="o">+)</span><span class="p">;</span><span class="w"></span>

<span class="nl">corr_mapping</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">init</span><span class="o">=</span><span class="no">INIT_COR</span><span class="o">?</span><span class="w"></span>
<span class="w">		</span><span class="nv">pattern</span><span class="o">=</span><span class="no">PATTERN_COR</span><span class="o">?</span><span class="w"></span>
<span class="w">		</span><span class="nv">f1</span><span class="o">=</span><span class="no">ID</span><span class="w"></span>
<span class="w">	</span><span class="o">-&gt;</span><span class="w"> 	</span><span class="o">^(</span><span class="no">CORR_MAP</span><span class="w"> </span><span class="nv">$f1</span><span class="w"> </span><span class="nv">$init</span><span class="o">?</span><span class="w"> </span><span class="nv">$pattern</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>

<span class="nl">corr_sets</span><span class="w"> 	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;correlates&#39;</span><span class="w"> </span><span class="s">&#39;{&#39;</span><span class="nv">cs</span><span class="o">+=</span><span class="nv">corr_set</span><span class="w"> </span><span class="s">&#39;;&#39;</span><span class="w"> </span><span class="o">(</span><span class="nv">cs</span><span class="o">+=</span><span class="nv">corr_set</span><span class="w"> </span><span class="s">&#39;;&#39;</span><span class="o">)*</span><span class="w"> </span><span class="s">&#39;}&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">CORRSETS</span><span class="w"> </span><span class="nv">$cs</span><span class="o">+)</span><span class="p">;</span><span class="w"></span>

<span class="nl">corr_set</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">f</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">par</span><span class="o">+=</span><span class="no">ID</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;,&#39;</span><span class="w"> </span><span class="nv">par</span><span class="o">+=</span><span class="no">ID</span><span class="o">)*</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">CORRSET</span><span class="w"> </span><span class="nv">$f</span><span class="w"> </span><span class="nv">$par</span><span class="o">+)</span><span class="p">;</span><span class="w"></span>

<span class="c">// Expressions</span><span class="w"></span>
<span class="nl">expr</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="nv">s_expr</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">EXT_EXPR</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="nv">funct_call</span><span class="p">;</span><span class="w"></span>
<span class="nl">funct_call</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">p</span><span class="o">+=</span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">p</span><span class="o">+=</span><span class="no">ID</span><span class="o">*</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">CALL</span><span class="w"> </span><span class="no">ID</span><span class="o">+)</span><span class="p">;</span><span class="w"></span>
<span class="nl">s_expr</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="nv">condExpr</span><span class="p">;</span><span class="w"></span>
<span class="nl">condExpr</span><span class="w"> 	</span><span class="p">:</span><span class="w">	</span><span class="nv">aexpr</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;==&#39;</span><span class="w"> </span><span class="o">^|</span><span class="s">&#39;!=&#39;</span><span class="w"> </span><span class="o">^|</span><span class="s">&#39;&lt;&#39;</span><span class="w"> </span><span class="o">^|</span><span class="s">&#39;&gt;&#39;</span><span class="w"> </span><span class="o">^|</span><span class="s">&#39;&lt;=&#39;</span><span class="w"> </span><span class="o">^|</span><span class="s">&#39;&gt;=&#39;</span><span class="w"> </span><span class="o">^)</span><span class="w"> </span><span class="nv">aexpr</span><span class="w"> </span><span class="o">)?</span><span class="p">;</span><span class="w"></span>
<span class="nl">aexpr</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="nv">mexpr</span><span class="w"> </span><span class="o">((</span><span class="s">&#39;+&#39;</span><span class="o">|</span><span class="s">&#39;-&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="nv">mexpr</span><span class="o">)*</span><span class="p">;</span><span class="w"></span>
<span class="nl">mexpr</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="nv">atom</span><span class="w"> </span><span class="o">((</span><span class="s">&#39;*&#39;</span><span class="o">|</span><span class="s">&#39;/&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">^</span><span class="w"> </span><span class="nv">atom</span><span class="o">)*</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">STRING</span><span class="p">;</span><span class="w"></span>
<span class="nl">atom</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="nv">path_expr</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">INT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;(&#39;</span><span class="w"> </span><span class="nv">s_expr</span><span class="w"> </span><span class="s">&#39;)&#39;</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="nv">s_expr</span><span class="p">;</span><span class="w"></span>
<span class="nl">path_expr</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="nv">pelmt</span><span class="o">+=</span><span class="nv">ns_id</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;.&#39;</span><span class="w"> </span><span class="nv">pelmt</span><span class="o">+=</span><span class="nv">ns_id</span><span class="o">)*</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">PATH</span><span class="w"> </span><span class="nv">$pelmt</span><span class="o">+)</span><span class="p">;</span><span class="w"></span>
<span class="nl">ns_id</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="nv">pr</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="s">&#39;::&#39;</span><span class="o">)?</span><span class="w"> </span><span class="nv">loc</span><span class="o">=</span><span class="no">ID</span><span class="w"> </span><span class="o">-&gt;</span><span class="w"> </span><span class="o">^(</span><span class="no">NS</span><span class="w"> </span><span class="nv">$pr</span><span class="o">?</span><span class="w"> </span><span class="nv">$loc</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="c">//optional attributes </span><span class="w"></span>
<span class="nl">portType</span><span class="w"> 	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@portType&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@pt&#39;</span><span class="o">)</span><span class="w"> </span><span class="no">STRING</span><span class="w"></span>
<span class="w">		</span><span class="o">-&gt;</span><span class="w">	</span><span class="o">^(</span><span class="no">PORTTYPE</span><span class="w"> </span><span class="no">STRING</span><span class="o">)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">std_attr</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@name&#39;</span><span class="w"> </span><span class="nv">name</span><span class="o">=</span><span class="no">STRING</span><span class="o">)?</span><span class="w"> </span><span class="nv">suppressJoinFailure</span><span class="o">=</span><span class="no">SJF</span><span class="o">?</span><span class="w"></span>
<span class="w">		</span><span class="o">-&gt;</span><span class="w">	</span><span class="o">^(</span><span class="no">STD_ATTR</span><span class="w"> </span><span class="nv">$name</span><span class="o">?</span><span class="w"> </span><span class="nv">$suppressJoinFailure</span><span class="o">?)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">msgEx</span><span class="w"> 	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@messageExchange&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@mex&#39;</span><span class="o">)</span><span class="w"> </span><span class="no">STRING</span><span class="w"></span>
<span class="w">		</span><span class="o">-&gt;</span><span class="w">	</span><span class="o">^(</span><span class="no">MSGEX</span><span class="w"> </span><span class="no">STRING</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">msgType</span><span class="w"> 	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@messageType&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@msgType&#39;</span><span class="o">)</span><span class="w"> </span><span class="nv">msgT</span><span class="o">=</span><span class="no">STRING</span><span class="w"></span>
<span class="w">		</span><span class="o">-&gt;</span><span class="w">	</span><span class="o">^(</span><span class="no">MSGTYPE</span><span class="w"> </span><span class="no">STRING</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="c">//var or import type</span><span class="w"></span>
<span class="nl">viType</span><span class="w"> 	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;@type&#39;</span><span class="w"> </span><span class="nv">type</span><span class="o">=</span><span class="no">STRING</span><span class="w"></span>
<span class="w">		</span><span class="o">-&gt;</span><span class="w">	</span><span class="o">^(</span><span class="no">VITYPE</span><span class="w"> </span><span class="no">STRING</span><span class="o">)</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="nl">viElt</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;@element&#39;</span><span class="w"> </span><span class="nv">elt</span><span class="o">=</span><span class="no">STRING</span><span class="w"></span>
<span class="w">		</span><span class="o">-&gt;</span><span class="w">	</span><span class="o">^(</span><span class="no">VIELT</span><span class="w"> </span><span class="no">STRING</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">faultName</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@faultName&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@fault&#39;</span><span class="o">)</span><span class="w"> </span><span class="no">STRING</span><span class="w"></span>
<span class="w">		</span><span class="o">-&gt;</span><span class="w">	</span><span class="o">^(</span><span class="no">FAULTNAME</span><span class="w"> </span><span class="no">STRING</span><span class="o">)</span><span class="p">;</span><span class="w"></span>

<span class="nl">faultElt</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;@faultElement&#39;</span><span class="w"> </span><span class="no">STRING</span><span class="w"></span>
<span class="w">		</span><span class="o">-&gt;</span><span class="w">	</span><span class="o">^(</span><span class="no">FAULTELT</span><span class="w"> </span><span class="no">STRING</span><span class="o">)</span><span class="p">;</span><span class="w">	</span>

<span class="c">// LEXER RULES</span><span class="w"></span>
<span class="nl">EXT_EXPR</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;[&#39;</span><span class="w"> </span><span class="o">(</span><span class="k">options</span><span class="w"> </span><span class="p">{</span><span class="nv">greedy</span><span class="p">=</span>false<span class="p">;}</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="o">.)*</span><span class="w"> </span><span class="s">&#39;]&#39;</span><span class="p">;</span><span class="w"></span>
<span class="nl">EXT_ACT</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="nv">pre</span><span class="o">=</span><span class="s">&#39;{{{&#39;</span><span class="w"> </span><span class="o">(</span><span class="k">options</span><span class="w"> </span><span class="p">{</span><span class="nv">greedy</span><span class="p">=</span>false<span class="p">;}</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="nv">c</span><span class="o">=.)*</span><span class="w"> </span><span class="nv">post</span><span class="o">=</span><span class="s">&#39;}}}&#39;</span><span class="p">;</span><span class="w"></span>

<span class="c">// Basic tokens</span><span class="w"></span>
<span class="nl">KEY</span><span class="w">			</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;in&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;out&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;inout&#39;</span><span class="p">;</span><span class="w"></span>
<span class="nl">SEMI</span><span class="w">			</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;;&#39;</span><span class="p">;</span><span class="w"></span>
<span class="nl">ID</span><span class="w">			</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="no">LETTER</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;_&#39;</span><span class="w"> </span><span class="o">)</span><span class="w"> </span><span class="o">(</span><span class="no">LETTER</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="no">DIGIT</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;_&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;-&#39;</span><span class="w"> </span><span class="o">)*</span><span class="p">;</span><span class="w"></span>
<span class="nl">INT</span><span class="w">			</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="no">DIGIT</span><span class="w"> </span><span class="o">)+</span><span class="w"> </span><span class="p">;</span><span class="w"></span>
<span class="nl">STRING</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;&quot;&#39;</span><span class="w"> </span><span class="o">(</span><span class="w"> </span><span class="no">ESCAPE_SEQ</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="o">~(</span><span class="s">&#39;\\&#39;</span><span class="o">|</span><span class="s">&#39;&quot;&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">)*</span><span class="w"> </span><span class="s">&#39;&quot;&#39;</span><span class="p">;</span><span class="w"></span>
<span class="nl">ESCAPE_SEQ</span><span class="w">		</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;\\&#39;</span><span class="w"> </span><span class="o">(</span><span class="s">&#39;b&#39;</span><span class="o">|</span><span class="s">&#39;t&#39;</span><span class="o">|</span><span class="s">&#39;n&#39;</span><span class="o">|</span><span class="s">&#39;f&#39;</span><span class="o">|</span><span class="s">&#39;r&#39;</span><span class="o">|</span><span class="s">&#39;\&quot;&#39;</span><span class="o">|</span><span class="s">&#39;\&#39;&#39;</span><span class="o">|</span><span class="s">&#39;\\&#39;</span><span class="o">)</span><span class="p">;</span><span class="w"></span>
<span class="nl">SL_COMMENTS</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;#&#39;</span><span class="o">|</span><span class="s">&#39;//&#39;</span><span class="o">)</span><span class="w"> </span><span class="o">.*</span><span class="w"> </span><span class="no">CR</span><span class="w"> </span><span class="p">{</span> <span class="nv">$channel</span> <span class="o">=</span> <span class="nx">HIDDEN</span><span class="o">;</span> <span class="p">};</span><span class="w"></span>
<span class="nl">CR</span><span class="w">			</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;\r&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;\n&#39;</span><span class="w"> </span><span class="o">)+</span><span class="w"> </span><span class="p">{</span> <span class="nv">$channel</span> <span class="o">=</span> <span class="nx">HIDDEN</span><span class="o">;</span> <span class="p">};</span><span class="w"></span>
<span class="nl">WS</span><span class="w">			</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="w"> </span><span class="s">&#39; &#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;\t&#39;</span><span class="w"> </span><span class="o">)+</span><span class="w"> </span><span class="p">{</span> <span class="nx">skip</span><span class="p">();</span> <span class="p">};</span><span class="w"></span>
<span class="k">fragment</span><span class="w"> </span><span class="nl">DIGIT</span><span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;0&#39;</span><span class="o">..</span><span class="s">&#39;9&#39;</span><span class="p">;</span><span class="w"></span>
<span class="k">fragment</span><span class="w"> </span><span class="nl">LETTER</span><span class="w">  	</span><span class="p">:</span><span class="w">	 </span><span class="s">&#39;a&#39;</span><span class="o">..</span><span class="s">&#39;z&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;A&#39;</span><span class="o">..</span><span class="s">&#39;Z&#39;</span><span class="p">;</span><span class="w"></span>

<span class="c">// Boolean annotations as LEXER rules</span><span class="w"></span>
<span class="k">protected</span><span class="w"> </span><span class="nl">EOSF</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@exitOnStandardFault&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@exit&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;exitOnStandardFault=\&quot;yes\&quot;&quot;</span><span class="p">);}</span><span class="w"></span>
<span class="w">	</span><span class="o">|</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@exitOnStandardFault no&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@exit no&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;exitOnStandardFault=\&quot;no\&quot;&quot;</span><span class="p">);};</span><span class="w"></span>
<span class="w">	</span>
<span class="k">protected</span><span class="w"> </span><span class="nl">SJF</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@suppressJoinFailure&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@dpe&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;suppressJoinFailure=\&quot;yes\&quot;&quot;</span><span class="p">);}</span><span class="w"></span>
<span class="w">	</span><span class="o">|</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@suppressJoinFailure no&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@dpe no&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;suppressJoinFailure=\&quot;no\&quot;&quot;</span><span class="p">);};</span><span class="w"></span>
<span class="w">	</span>
<span class="k">protected</span><span class="w"> </span><span class="nl">PARALLEL</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@parallel&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@par&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;parallel=\&quot;yes\&quot;&quot;</span><span class="p">);}</span><span class="w"></span>
<span class="w">	</span><span class="o">|</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@parallel no&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@par no&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;parallel=\&quot;no\&quot;&quot;</span><span class="p">);};</span><span class="w"></span>
<span class="w">	</span>
<span class="k">protected</span><span class="w"> </span><span class="nl">SBO</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@successfulBranchesOnly&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@success&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@sbo&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;successfulBranchesOnly=\&quot;yes\&quot;&quot;</span><span class="p">);}</span><span class="w"></span>
<span class="w">	</span><span class="o">|</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@successfulBranchesOnly no&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@sbo no&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;successfulBranchesOnly=\&quot;no\&quot;&quot;</span><span class="p">);};</span><span class="w"></span>
<span class="w">	</span>
<span class="k">protected</span><span class="w"> </span><span class="nl">INITPARTNER</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@initializePartner&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@init&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;initializePartnerRole=\&quot;yes\&quot;&quot;</span><span class="p">);}</span><span class="w"></span>
<span class="w">	</span><span class="o">|</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@initializePartner no&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@init no&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;initializePartnerRole=\&quot;no\&quot;&quot;</span><span class="p">);};</span><span class="w"></span>

<span class="k">protected</span><span class="w"> </span><span class="nl">INIT_COR</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;!&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;force&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;initiate=\&quot;yes\&quot;&quot;</span><span class="p">);}</span><span class="w"></span>
<span class="w">	</span><span class="o">|</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;?&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;join&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;initiate=\&quot;join\&quot;&quot;</span><span class="p">);};</span><span class="w"></span>
<span class="w">		</span>
<span class="k">protected</span><span class="w"> </span><span class="nl">PATTERN_COR</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@&gt;&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;request&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;pattern=\&quot;request\&quot;&quot;</span><span class="p">);}</span><span class="w"></span>
<span class="w">	</span><span class="o">|</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@&lt;&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;response&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;pattern=\&quot;response\&quot;&quot;</span><span class="p">);}</span><span class="w"></span>
<span class="w">	</span><span class="o">|</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@&gt;&lt;&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;request-response&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;pattern=\&quot;request-response\&quot;&quot;</span><span class="p">);};</span><span class="w"></span>
<span class="w">	</span>
<span class="k">protected</span><span class="w"> </span><span class="nl">ISOLATED</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;@isolated&#39;</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;isolated=\&quot;yes\&quot;&quot;</span><span class="p">);}</span><span class="w"></span>
<span class="w">	</span><span class="o">|</span><span class="w">	</span><span class="s">&#39;@isolated no&#39;</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;isolated=\&quot;no\&quot;&quot;</span><span class="p">);};</span><span class="w"></span>
<span class="w">	</span>
<span class="k">protected</span><span class="w"> </span><span class="nl">CREATE_INST</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@createInstance&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@ci&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot; createInstance=\&quot;yes\&quot;&quot;</span><span class="p">);}</span><span class="w"></span>
<span class="w">	</span><span class="o">|</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@createInstance no&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@ci no&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot; createInstance=\&quot;not\&quot;&quot;</span><span class="p">);};</span><span class="w"></span>

<span class="k">protected</span><span class="w"> </span><span class="nl">VALID</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;@validate&#39;</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;validate=\&quot;yes\&quot;&quot;</span><span class="p">);}</span><span class="w"></span>
<span class="w">	</span><span class="o">|</span><span class="w">	</span><span class="s">&#39;@validate no&#39;</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;validate=\&quot;no\&quot;&quot;</span><span class="p">);}</span><span class="w">	</span><span class="p">;</span><span class="w"></span>
<span class="w">	</span>
<span class="k">protected</span><span class="w"> </span><span class="nl">KEEPSRC</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@keepSrcElementName&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@keepSrc&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;keepSrcElementName=\&quot;yes\&quot;&quot;</span><span class="p">);}</span><span class="w"></span>
<span class="w">	</span><span class="o">|</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@keepSrcElementName no&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@keepSrc no&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;keepSrcElementName=\&quot;no\&quot;&quot;</span><span class="p">);};</span><span class="w"></span>
<span class="w">	</span>
<span class="k">protected</span><span class="w"> </span><span class="nl">IGNORE</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;@ignoreMisssingFromData&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@ignore&#39;</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;ignoreMisssingFromData=\&quot;yes\&quot;&quot;</span><span class="p">);}</span><span class="w"></span>
<span class="w">	</span><span class="o">|</span><span class="w">	</span><span class="o">(</span><span class="s">&#39;@ignoreMisssingFromData no&#39;</span><span class="w"> </span><span class="o">|</span><span class="w"> </span><span class="s">&#39;@ignore no&#39;</span><span class="o">)</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;ignoreMisssingFromData=\&quot;no\&quot;&quot;</span><span class="p">);};</span><span class="w"></span>

<span class="k">protected</span><span class="w"> </span><span class="nl">PART</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;@part&#39;</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;part&quot;</span><span class="p">);};</span><span class="w"></span>

<span class="k">protected</span><span class="w"> </span><span class="nl">MUSTUND</span><span class="w"></span>
<span class="w">	</span><span class="p">:</span><span class="w">	</span><span class="s">&#39;@mustUnderstand&#39;</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;mustUnderstand=\&quot;yes\&quot;&quot;</span><span class="p">);}</span><span class="w"></span>
<span class="w">	</span><span class="o">|</span><span class="w">	</span><span class="s">&#39;@mustUnderstand no&#39;</span><span class="w"> </span><span class="p">{</span><span class="nx">setText</span><span class="p">(</span><span class="s2">&quot;mustUnderstand=\&quot;no\&quot;&quot;</span><span class="p">);};</span><span class="w"></span>
</pre></div>
</body>
</html>
